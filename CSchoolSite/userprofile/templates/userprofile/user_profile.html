{% extends "base.html" %}
{% load static %}
{% load bootstrap3 %}
{% load i18n %}

{% block page_title %}{% blocktrans with username=user.username %}Profile of user "{{ username }}"{% endblocktrans %}{% endblock %}

{% block css %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'css/user_profile.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/dataTables.bootstrap.css' %}" />
{% endblock %}

{% block content %}
    <div class="panel panel-info">
        <div class="panel-heading">{% blocktrans with username=user.username %}Profile of user "{{ username }}"{% endblocktrans %}</div>
        <div class="panel-body">
            <table class="table user_profile_table">
                <tbody>
                    <tr>
                        <td>{% trans "Initials" %}:</td>
                        <td>{{ user.get_initials }}</td>
                    </tr>
                    <tr>
                        <td>{% trans "user_profile_birthday" %}:</td>
                        <td>{% if user.birthday %}{{ user.birthday }}{% else %}<i>{% trans 'Unknown' %}</i>{% endif %}</td>
                    </tr>
                    <tr>
                        <td>{% trans "user_profile_email" %}:</td>
                        <td>{% if user.email %}{{ user.email }}{% else %}<i>{% trans 'Unknown' %}</i>{% endif %}</td>
                    </tr>
                    <tr>
                        <td>{% trans "user_profile_phone" %}:</td>
                        <td>{% if user.phone %}{{ user.phone }}{% else %}<i>{% trans 'Unknown' %}</i>{% endif %}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="panel-footer clearfix">
            <div class="pull-right">
                <a href="{% url 'password_change' %}" class="btn btn-default">{% bootstrap_icon 'edit' %} {% trans 'Change password' %}</a>
                <a href="{% url 'user_profile_edit' %}" class="btn btn-success">{% bootstrap_icon 'edit' %} {% trans 'user_profile_edit_profile' %}</a>
            </div>
        </div>
    </div>

    <div class="panel panel-warning">
        <div class="panel-heading">{% trans 'Family relatives' %}</div>
        <div class="panel-body">
            <table id="relationshipTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>{% trans 'Relative' %}</th>
                        <th>{% trans 'Relationship status' %}</th>
                        <th>{% trans 'Relationship request' %}</th>
                        <th>{% trans 'Action' %}</th>
                    </tr>
                </thead>
            </table>
        </div>
        <div class="panel-footer clearfix">
            <div class="pull-right">
                <a href="{% url 'user_profile_relatives_choice' %}" class="btn btn-success">{% bootstrap_icon 'plus' %} {% trans 'Select relatives' %}</a>
            </div>
        </div>
    </div>

{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script>
        var dataUrl = "{% url 'relationship_table' %}";
    </script>
    <script type="text/javascript" src="{% static 'js/datatables.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/user_profile.js' %}"></script>
{% endblock %}